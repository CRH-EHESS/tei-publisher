<!--
<link rel="import" href="bower_components/polymer/polymer-element.html">
<link rel="import" href="bower_components/polymer/lib/elements/custom-style.html">
<link rel="import" href="bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="bower_components/paper-styles/color.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/iron-icon/iron-icon.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
-->

<dom-module id="existdb-column-layout">
    <template>
        <style>
            :host {
                width: 100%;
                display: block;
                padding: 0;
                margin: 0;
            }

            div.app-grid{
                display: grid;
                grid-template-columns: var(--app-column-widths);
                grid-column-gap: var(--app-column-gap);
                padding: 0;
                margin: 0;
            }

            slot[name="header"], slot[name="footer"] {
                width: 100%;
            }

        </style>


        <slot name="header"></slot>

        <div class="app-grid">
            <!--<slot></slot>-->
            <template id="cols" is="dom-repeat" items="{{columns}}">
                <slot class="slot"></slot>
            </template>

        </div>
        <slot name="footer"></slot>

    </template>

    <script>
        /**
         * `existdb-column-layout`
         *
         * a simple column-based layout based on CSS Grid.
         *
         * the column-widths can be configured via the respective attribute.
         * Optionally the layout can have a header and/or footer which are mounted into
         * the slots 'header' and 'footer' respectively.
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class ExistdbColumnLayout extends Polymer.Element {
            static get is() {
                return 'existdb-column-layout';
            }

            static get properties() {
                return {
                    columns: {
                        type: Array,
                        value: []
                    },
                    columnWidths: {
                        type: String,
                        reflectToAttribute: true,
                    },
                    gap: {
                        type: String,
                        notify: true,
                        reflectToAttribute: true,
                        value:"0"
                    }
                };
            }

            connectedCallback() {
                super.connectedCallback();
                this.columns = Array.from(this.querySelectorAll('div'));
                this.updateStyles({'--app-column-widths': this.columnWidths});
                this.updateStyles({'--app-column-gap': this.gap});
            }

            _openClose(e){
                console.log('_openClose ', e);
            }
        }

        window.customElements.define(ExistdbColumnLayout.is, ExistdbColumnLayout);
    </script>
</dom-module>
